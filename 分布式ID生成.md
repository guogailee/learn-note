## 不靠谱方案

- 数据库自增id

  ```
  id都从一个单独的数据库获取
  
  优点：
  方便简单
  
  缺点：
  不支持高并发
  ```

- UUID

  ```
  优点：基于本机，不需要依赖数据库
  
  缺点：
  UUID太长，作为主键性能太差。
  不具有有序性，导致B+树索引在写的时候有过多的随机写。
  不能产生有序的append操作，性能低下
  ```

- 获取系统当前时间

  ```
  缺点：
  不支持并发
  ```

## 靠谱方案

- snowflake算法

  ```
  64位
  0 | 0001100 10100010 101111110 10001001 01011100 00 | 10001 | 11001 | 0000 00000000
  
  1bit:统一为0
  
  41bit：表示的是时间戳，毫秒
  
  10bit：5bit是机房id，5bit是机器id
  
  12bit：记录同一个毫秒内产生的不同id
  ```

